{
  "packageName": "Sonos Advanced Controller",
  "author": "Daniel Winks",
  "version": "0.3.20",
  "releaseNotes": "v0.3.20 IMPORTANT: You must click on 'Initialize()' on each player device after this update!\r\nChanges: Added subscription to 'GroupManager' notifications. This will help simplify the code around groupId, coordinatorId, and 'isCoordinator' for better reliability.\r\nv0.3.19 More fixes.\r\nv0.3.18 Add groupId and groupCoordinatorId to attributes for use in automations. \r\nv0.3.17 Fixes for updatePlayerCurrentStates(), updateGroupDevices(), updateZoneGroupName().  \r\nv0.3.16 Changed device creation to allow for multiple runs in cases of large numbers of speakers that need added. \r\nv0.3.15 Fixed a couple of null refrence errors. \r\nv0.3.14 Changed discovery page to use dynamic updates provided in hub update 2.3.7.114, which is now the lowest version supported by Sonos Advanced. \r\nPut a few more checks in place for speaker discovery to help resolve bugs encountered by some users.\r\nv0.3.13 Numerous fixes. Moved ZoneGroupTopology process to the driver level. \r\nHopefully this resolves a few pesky issues I've seen reported. \r\nMade both the app and driver single threaded to resolve some race conditions. \r\nFixed crossfade child device not working properly. \r\nv0.3.11 Change group volume to mirror how changing group volume in official Sonos app works.\r\nv0.3.10 Add option to disable metaData and trackMetaData from trackData, for lowering CPU usage. Fixes for other bugs.\r\nv0.3.9 Some fixes for trackData display in SharpTools.\r\nv0.3.8 Add toggle option for 'Favorites Matching'. This is a fairly resource heavy operation, so if you aren't utilizing the 'Currently Playing Favorite'\r\nturning this off will lighten the load on your Hubitat.\r\nAlso included some fixes/optimizations around favorites matching, and fixed a few more bugs, such as the trackData not properly populating.\r\n0.3.7 Fix null error on 'updateChildBatteryStatus' if there's child device created.\r\nv0.3.6 Limit Group Device creation to only allow S1 with other S1 and S2 with other S2. Mixed S1/S2 groups cannot work (per Sonos) and should not be allowed to be created in Sonos Advanced.\r\nv0.3.5 Fix group volume and mute/unmute state on follower devices.\r\nv0.3.4 Change 'Play Track' so it automatically plays, like the built-in Sonos app does.\r\nFixes for various bugs.\r\nv0.3.3 Make battery stats event driven instead polled. They will update immediately now. ðŸŽ‰\r\nv0.3.2 Minor fixes to initialization logic for newly added players.\r\nv0.3.1 Significantly changed how follower players update 'current state'. Now it uses a HashMap in the backgroun and 'replays' the \r\nevents and commands sent to the 'coordinator' device from the App code. Should be more robust and a bit faster. Many bug fixes included as well. \r\nv0.2.6 Improvements to grouping/ungrouping. 'Follower' players now unsubscribe from AVTransport as they don't have anything useful to notify\r\nabout since they're only followers and only the 'coordinator' provides useful information.\r\nFix error related to groups changing during 'isFavoritePlaying' callback. \r\nv0.2.5 Add null check on getFavorites() to resolve bug.\r\nv0.2.5 Added groupVolume and groupMute to player devices.\r\nv0.2.3 More fixes to favorites matching to handle local music library favorites.\r\nv0.2.2 Fix loudness reporting.\r\nv0.2.1 Add 'Speak' to Group Device. Does just that, speak text across the whole group.\r\nv0.2.0  Version bump because of typo on version. Also because it's much closer to release state.\r\nMore fixes.\r\nv0.1.19 Significantly improve favorites matching. Fix regressions on mute/group mute introduced when adding balance controls.\r\nv0.1.18 Fix loadFavoriteFull not passing params properly.\r\nv0.1.17 Fix trackDescrption using album name instead of track name.\r\nv0.1.16 Fix album and artist being reversed. Add break tag to better format album art.\r\nv0.1.15 Default to 'repeat all' for 'loadFavorite' rather than 'repeat one' for better behaviour with favorites containing more than one track.\r\nv0.1.14 Set 'trackDescrption' for radio streams as well, in situations where currentAlbum and currentArtist are unavailable.\r\nv0.1.13 Add 'trackDescrption' ('%currentAlbum% by %currentArtist%}' format) when available, as it's needed for Hubitat Dashboards.\r\nv0.1.12 Fix 'null' naming issue during device discovery/creation.\r\nv0.1.11 Add balance controls for stereo pairs ðŸŽ‰ Changes to allow change ip addresses of speakers.\r\nv0.1.10 Fix 'Play Track And Restore\\Resume' issue.\r\nv0.1.9 Fix set group volume\r\nv0.1.8 Fixes for album art, current/next info, improved logging.\r\nv0.1.7 Fixes for \"Toggle All On/Off\" being included in groups.",
  "minimumHEVersion": "2.3.7.114",
  "dateReleased": "2024-01-07",
  "gitHubUrl": "https://github.com/DanielWinks/Hubitat-Public",
  "payPalUrl": "https://paypal.me/winksd?country.x=US&locale.x=en_US",
  "bundles": [
    {
      "id": "ed76ee46-18a8-466e-a28a-db50355f3529",
      "name": "Sonos Advanced Controller",
      "namespace": "dwinks",
      "location": "https://github.com/DanielWinks/Hubitat-Public/raw/main/Bundles/SonosAdvancedController.zip",
      "required": true
    }
  ],
  "apps": [
    {
      "id": "a5e66956-f81b-40e8-ac79-28f7a5530a9a",
      "name": "Sonos Advanced Controller",
      "namespace": "dwinks",
      "location": "https://raw.githubusercontent.com/DanielWinks/Hubitat-Public/main/Apps/SonosAdvancedApp.groovy",
      "required": true,
      "primary": true
    }
  ],
  "drivers": [
    {
      "id": "60791fce-4431-40fe-823f-daba182cdd12",
      "name": "Sonos Advanced Group",
      "namespace": "dwinks",
      "location": "https://raw.githubusercontent.com/DanielWinks/Hubitat-Public/main/Drivers/Component/SonosAdvGroup.groovy",
      "required": true
    },
    {
      "id": "35457105-655a-40f0-953a-5c32cb7b9d0e",
      "name": "Sonos Advanced Player",
      "namespace": "dwinks",
      "location": "https://raw.githubusercontent.com/DanielWinks/Hubitat-Public/main/Drivers/Component/SonosAdvPlayer.groovy",
      "required": true
    },
    {
      "id": "1e419d13-89bd-4709-8660-ba34e295236e",
      "name": "Sonos Advanced Snapshot",
      "namespace": "dwinks",
      "location": "https://raw.githubusercontent.com/DanielWinks/Hubitat-Public/main/Drivers/Component/SonosAdvSnapshot.groovy",
      "required": true
    },
    {
      "id": "fb684879-f318-4fcd-859f-6a9266522214",
      "name": "Sonos Advanced Battery Status",
      "namespace": "dwinks",
      "location": "https://raw.githubusercontent.com/DanielWinks/Hubitat-Public/main/Drivers/Component/SonosAdvBatteryStats.groovy",
      "required": true
    }
  ]
}